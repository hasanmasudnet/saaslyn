@use "../abstracts/variables" as *;
@use "../abstracts/extend" as *;
@use "../abstracts/mixins" as *;

.fix-menu {
  @include transition($transition);
  &.transformed {
    position: fixed !important;
    left: 0;
    top: 0;
    width: 100%;
    z-index: 800;
    @include transform(translateY(-100%));
  }
  &.sticky {
    position: fixed !important;
    left: 0;
    top: 0;
    width: 100%;
    z-index: 800;
    @include transform(translateY(0%));
  }
}
.header-one {
  &.section {
    @extend %p-absolute;
    left: 0;
    top: 0;
    width: 100%;
    z-index: 999;

    &:not(.sticky) {
      border-bottom: 1px solid rgba(var(--color-2-rgb), 0.1);
    }

    &.v4 {
      border-bottom: 1px solid rgba(var(--color-white-rgb), 0.1);

      .header__main-menu {
        nav {
          > ul {
            > li {
              > a {
                color: var(--color-white);
                border: 1px solid transparent;
                &:hover {
                  background-color: transparent;
                  border-color: rgba(var(--color-white-rgb), 0.1);
                }
              }

              &:hover {
                > a {
                  background-color: transparent;
                  color: var(--color-white);
                  border-color: rgba(var(--color-white-rgb), 0.1);
                  &:hover {
                    background-color: transparent;
                    border-color: rgba(var(--color-white-rgb), 0.1);
                  }
                }
              }

              &.active {
                > a {
                  background-color: transparent;
                  border-color: rgba(var(--color-white-rgb), 0.1);
                }
              }
            }
          }
        }
      }
    }

    .sticky {
      background-color: var(--bg-color-2);
      box-shadow: rgba(var(--color-white-rgb), 0.25) 0px 5px 35px -5px,
        rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    }
  }

  &__main {
    @extend %d-flex, %justify-between, %item-center;
    padding-block: 24px;
    gap: 15px;

    @include breakpoint(max-xl) {
      padding-block: 20px;
    }
  }
  &__main-menu {
    nav {
      &.circle {
        border-radius: 999px;
        @include breakpoint(max-lg) {
          display: none;
        }
      }
      > ul {
        > li {
          > a {
            &:hover {
              opacity: 1;
            }
          }
        }
      }
      ul {
        line-height: 1;
        &:not(.sub-menu) {
          @extend %d-flex, %justify-between, %item-center;
        }

        li {
          @extend %p-relative;

          &:last-of-type {
            a {
              padding-right: 0;
            }
          }
          a {
            border-radius: 999px;
            white-space: nowrap;
            color: var(--text-color-main);
            font-size: $fs-16;
            font-weight: 500;
            line-height: 162.5%;
            padding: 8.5px 13.5px;
            gap: 10px;
            opacity: 0.6;

            @include breakpoint(max-xl) {
              gap: 5px;
              line-height: 2.188;
              padding: 5px 15px;
            }

            @extend %d-flex, %justify-between, %item-center;
            i {
              @include transition(inherit);
              transform-origin: center center;
              -ms-transform-origin: center center;
              -webkit-transform-origin: center center;
            }
          }

          .sub-menu {
            @extend %p-absolute;
            @include transform(scaleY(0));
            @include transition($transition-3-ease-in-out);
            left: 0;
            top: calc(100%);
            border: 1px solid rgba(var(--text-color-main-rgb), 0.2);
            border-radius: 15px;
            min-width: 250px;
            transform-origin: top left;
            -ms-transform-origin: top left;
            -webkit-transform-origin: top left;
            background: #222;

            li {
              @extend %p-relative;
              @include transition($transition);
              line-height: 1;
              z-index: 1;

              &:first-of-type {
                border-top-left-radius: 2px;
                border-top-right-radius: 2px;
              }
              &:last-of-type {
                border-bottom-left-radius: 2px;
                border-bottom-right-radius: 2px;
              }

              a {
                @extend %d-block;
                padding: 12px 10px;
                line-height: 1;
                border-radius: 5px;

                &:hover {
                  background-color: #2c2b2e;
                }

                &:has(i) {
                  @extend %d-flex, %justify-between, %item-center;
                }
              }

              &:first-of-type {
                a {
                  border-top-right-radius: 15px;
                  border-top-left-radius: 15px;
                }
              }
              &:last-of-type {
                a {
                  border-bottom-right-radius: 15px;
                  border-bottom-left-radius: 15px;
                }
              }

              &:hover {
                &::before {
                  width: 100%;
                }
                > a {
                  letter-spacing: 1px;
                  //   margin-left: 10px;
                }
              }
            }

            .sub-menu {
              left: calc(100% + 5px);
              top: 0%;
            }

            &:hover {
              // border-color: rgba(var(--color-primary-rgb), 0.3);
              > li {
                // border-color: rgba(var(--color-primary-rgb), 0.3);
              }
            }
          }

          &:hover {
            > a {
              i {
                @include transform(rotate(180deg));
              }
            }
            > .sub-menu {
              @include transform(scaleY(1));
            }
          }

          &:last-of-type,
          &:nth-last-of-type(2),
          &:nth-last-of-type(3) {
            > .sub-menu:not(.sub-menu .sub-menu) {
              left: unset;
              right: 0;
              transform-origin: top right;

              li {
                .sub-menu {
                  left: unset;
                  right: calc(100% + 5px);
                  transform-origin: top right;
                }
              }
            }
          }
        }
      }
    }

    &.menu-right {
      @extend %d-flex, %item-center;
      gap: 60px;

      @include breakpoint(max-lg) {
        gap: 30px;
      }
    }
    &.v2 {
      nav {
        > ul {
          > li {
            > a {
              color: var(--secondary-color-2);
              opacity: 0.6;

              &:hover {
                opacity: 1;
              }
            }
          }
        }
      }
      .header-one__menu-btns {
        .hamburger-menu {
          @include breakpoint(lg) {
            display: none;
          }
        }
      }
    }
    &.v3 {
      nav {
        > ul {
          > li {
            > a {
              color: var(--color-white);
              opacity: 0.7;

              &:hover {
                opacity: 1;
              }
            }
          }
        }
      }
    }
  }
  &__menu-btns {
    @extend %d-flex, %item-center;
    gap: 16px;

    .buttons {
      @extend %d-flex, %item-center;
      gap: 16px;

      @include breakpoint(max-sm) {
        display: none;
      }
    }

    .hamburger-menu {
      background-color: #222;
      @extend %shrink-0;
      display: inline-block;
      font-size: inherit;
      width: 30px;
      backdrop-filter: blur(104px);
      width: 48px;
      height: 48px;
      padding: 0;
      padding-right: 14px;
      border: none;
      border-radius: 50%;

      span {
        @extend %d-block;
        background: var(--text-color-main);
        width: 11px;
        margin: 4px 0 4px auto;
        border-radius: 10px;
        height: 2px;
        &:nth-child(2) {
          width: 20px;
        }
      }
      &:hover {
        span {
          animation: bar_anim 0.8s cubic-bezier(0.44, 1.1, 0.53, 0.99) 1
            forwards;
          &:nth-child(2) {
            animation-delay: 0.1s;
          }
        }
      }
    }
  }
}

.header-two {
  &.section {
    @extend %p-absolute;
    left: 0;
    top: 0;
    width: 100%;
    z-index: 999;
    border-bottom: 1px solid rgba(70, 66, 252, 0.08);

    .header-one__main {
      padding-block: 18px;
    }
    .sticky {
      background-color: var(--color-white);
      box-shadow: rgba(var(--color-black-rgb), 0.15) 0px 3px 45px -5px,
        rgba(var(--color-black-rgb), 0.3) 0px 8px 16px -8px;
    }
  }
}
.header-three {
  &.section {
    @extend %p-absolute;
    left: 0;
    top: 0;
    width: 100%;
    z-index: 999;
    .sticky {
      background-color: rgba(var(--bg-color-2-rgb), 0.4);
      backdrop-filter: blur(50px);
      box-shadow: rgba(var(--color-white-rgb), 0.25) 0px 5px 35px -5px,
        rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    }
  }
  .header-one {
    &__main {
      padding-block: 15px;
    }
    &__main-menu {
      &.v3 {
        border-radius: 60px;
        border: 1px solid rgba(var(--color-white-rgb), 0.11);
        backdrop-filter: blur(5px);
        padding-inline: 28.5px;
        padding-block: 2.5px;
        margin-left: 7%;

        @include breakpoint(max-lg) {
          display: none;
        }
      }
    }
    &__menu-btns {
      .buttons {
        @extend %d-flex, %item-center;
        gap: 10px;
        border-radius: 48px;
        border: 0.5px solid rgba(var(--color-white-rgb), 0.13);
        backdrop-filter: blur(2px);
        padding: 7px 8px;
        .divider {
          width: 0.5px;
          height: 30px;
          background-color: #4a3536;
        }
        @include breakpoint(max-md) {
          display: none;
        }
      }
      .hamburger-menu {
        @include breakpoint(lg) {
          display: none;
        }
      }
    }
  }
}
